import LoginView from"../views/LoginView";import API from"../data/api";const LoginPresenter={init(){localStorage.getItem("accessToken")?LoginView.navigateToHome():LoginView.getFormElement().addEventListener("submit",(async e=>{e.preventDefault(),LoginView.showErrorMessage(""),LoginView.setSubmitButtonDisabled(!0),LoginView.setSubmitButtonText("Logging in...");const{email:o,password:i}=LoginView.getFormValues();try{const e=await API.login({email:o,password:i}),t=e?.token;if(!t)throw new Error("Token tidak ditemukan dalam response login.");localStorage.setItem("accessToken",t),LoginView.navigateToHome()}catch(e){console.error("Login error:",e),LoginView.showErrorMessage(e.message||"Terjadi kesalahan saat login.")}finally{LoginView.setSubmitButtonDisabled(!1),LoginView.setSubmitButtonText("Login")}}))}};export default LoginPresenter;