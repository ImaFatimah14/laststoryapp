import API from"../data/api";import Swal from"sweetalert2";export default class RegisterPresenter{constructor({view:e}){this.view=e}init(){this._bindFormSubmit()}_bindFormSubmit(){this.view.getFormElement().addEventListener("submit",(e=>this._handleSubmit(e)))}async _handleSubmit(e){e.preventDefault(),this.view.setSubmitButtonDisabled(!0);const{name:i,email:t,password:a}=this.view.getFormValues();try{await API.register({name:i,email:t,password:a}),Swal.fire("Sukses!","Registrasi berhasil. Silakan login.","success"),this.view.navigateToLogin()}catch(e){Swal.fire("Gagal",e.message||"Terjadi kesalahan.","error"),this.view.setSubmitButtonDisabled(!1)}}}