export default class AddStoryView{createCanvas(t,e){const n=document.createElement("canvas");return n.width=t,n.height=e,n}setSubmitButtonDisabled(t){this.getSubmitButton().disabled=t}setLocationInfo(t){this.getLocationInfo().textContent=t}showWarning(t){}constructor(){this.fileInput=null,this.video=null,this.snapshot=null,this.btnUse=null,this.btnCapture=null,this.submitButton=null}getTemplate(){return'\n    <section class="container" aria-label="Tambah Cerita Baru">\n      <h1>Tambah Cerita Baru</h1>\n      <form id="addStoryForm" aria-label="Form tambah cerita">\n        <div class="form-group">\n          <label for="description">Deskripsi</label>\n          <textarea id="description" name="description" required></textarea>\n        </div>\n\n        <fieldset>\n          <legend>Ambil Gambar</legend>\n          <div class="photo-input" style="display: flex; flex-wrap: wrap; gap: 1rem; align-items: flex-start;">\n            <div style="display: flex; flex-direction: column; gap: 0.5rem; min-width: 180px;">\n              <button type="button" id="btnUseCamera" aria-controls="cameraPreview">Gunakan Kamera</button>\n              <label for="photo">Pilih Foto dari Galeri</label>\n              <input type="file" id="photo" name="photo" accept="image/*" capture="environment" />\n            </div>\n            <div style="flex: 1; display: flex; flex-direction: column; align-items: center; gap: 0.5rem; min-width: 220px;">\n              <video id="cameraPreview" autoplay hidden aria-label="Pratinjau Kamera" aria-hidden="true" style="max-width: 100%; border-radius: 8px; background: #222;"></video>\n              <button type="button" id="btnCapture" hidden>Ambil Foto</button>\n              <div id="snapshotWrapper" style="position: relative; display: flex; flex-direction: column; align-items: center;">\n                <img id="snapshot" alt="Foto Hasil Capture" hidden style="max-width: 100%; border-radius: 8px; margin-bottom: 0.5rem;" />\n                <button type="button" id="btnDeleteSnapshot" hidden style="background: #e74c3c; color: #fff; border: none; border-radius: 6px; padding: 0.4rem 1rem; font-size: 0.95rem; margin-top: 0.2rem;">Hapus Gambar</button>\n              </div>\n            </div>\n          </div>\n        </fieldset>\n\n        <div class="form-group">\n          <p id="mapLabel">Pilih Lokasi</p>\n          <div id="map" style="height: 300px; width: 100%; margin-bottom: 1rem;" aria-label="Peta untuk memilih lokasi" aria-labelledby="mapLabel"></div>\n          <p id="locationInfo" aria-live="polite">Klik peta untuk memilih lokasi</p>\n        </div>\n\n        <button type="submit" id="submitButton">Kirim Cerita</button>\n      </form>\n    </section>\n  '}initializeElements(){this.fileInput=document.getElementById("photo"),this.video=document.getElementById("cameraPreview"),this.snapshot=document.getElementById("snapshot"),this.btnDeleteSnapshot=document.getElementById("btnDeleteSnapshot"),this.btnUse=document.getElementById("btnUseCamera"),this.btnCapture=document.getElementById("btnCapture"),this.submitButton=document.getElementById("submitButton")}getDeleteSnapshotButton(){return this.btnDeleteSnapshot}onDeleteSnapshotClick(t){this.btnDeleteSnapshot&&this.btnDeleteSnapshot.addEventListener("click",t)}getMapContainer(){return document.getElementById("map")}getFormElement(){return document.getElementById("addStoryForm")}getDescription(){return document.getElementById("description").value.trim()}getPhotoFile(){return this.fileInput.files[0]}getUseCameraButton(){return this.btnUse}getCaptureButton(){return this.btnCapture}getCameraPreview(){return this.video}getSnapshotImage(){return this.snapshot}getLocationInfo(){return document.getElementById("locationInfo")}setLocationInfo(t){this.getLocationInfo().textContent=t}setSubmitButtonDisabled(t){this.getSubmitButton().disabled=t}getSubmitButton(){return this.submitButton}onUseCameraClick(t){this.btnUse.addEventListener("click",t)}onCaptureClick(t){this.btnCapture.addEventListener("click",t)}onFileChange(t){this.fileInput.addEventListener("change",t)}showStream(t){this.video.srcObject=t,this.video.hidden=!1,this.btnCapture.hidden=!1,this.snapshot.hidden=!0}showSnapshot(t){this.snapshot.src=t,this.snapshot.hidden=!1,this.video.hidden=!0,this.btnCapture.hidden=!0,this.btnDeleteSnapshot&&(this.btnDeleteSnapshot.hidden=!1)}hideSnapshot(){this.snapshot.src="",this.snapshot.hidden=!0,this.btnDeleteSnapshot&&(this.btnDeleteSnapshot.hidden=!0)}stopStream(t){t.getTracks().forEach((t=>t.stop()))}navigateToHome(){window.location.hash="#/"}}